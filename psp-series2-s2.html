<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Exam Checklist with Progress Bar and Goggins Motivation</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0; /* Remove default body margin */
      padding: 0; /* Remove default body padding */
      background-color: #f4f4f9;
    }

    h1 {
      color: #333;
      text-align: center;
      /* margin-top will be set by JavaScript */
      margin-bottom: 20px;
    }

    h2, h3 {
        color: #555;
        margin-top: 15px;
        margin-bottom: 8px;
    }

    ul {
      list-style-type: none;
      padding: 0;
      margin: 0 20px; /* Add some horizontal margin to the list */
    }

    li {
      margin-bottom: 5px; /* Reduced spacing for indented items */
    }

    input[type="checkbox"] {
      margin-right: 5px;
      vertical-align: middle; /* Vertical alignment for the checkbox */
    }

    label {
      font-weight: normal; /* Reduced font weight for indented items */
      vertical-align: middle; /* Align label text vertically with checkbox */
      display: inline-block; /* Use inline-block to allow margin-left and better control if needed, but still inline flow */
    }

    .topic-heading > label {
        font-weight: bold; /* Keep main topic headings bold */
    }

    .indented {
        margin-left: 20px; /* Indent the subtopics and problems */
    }
    .sub-indented {
        margin-left: 40px; /* Further indent for sub-subtopics */
    }


    /* Fixed progress bar */
    #progressBar {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 40px; /* Keep height consistent */
      background-color: #fff;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 10px;
      z-index: 1000;
      font-size: 18px;
      font-weight: bold;
      border-bottom: 2px solid #ddd;
      box-sizing: border-box; /* Include padding and border in the element's total width and height */
    }

    .progress-text {
      display: flex;
      align-items: center;
      margin-right: 10px;
    }

    .progress-bar-container {
        flex-grow: 1; /* Allow the bar to take available space */
        height: 20px;
        background-color: #eee; /* Background for the progress bar track */
        border-radius: 10px; /* Rounded corners */
        overflow: hidden; /* Hide overflow of the fill */
        min-width: 50px; /* Ensure the bar has a minimum width */
        margin-left: 10px; /* Add space between text and bar */
    }

    .progress-bar-fill {
      height: 100%;
      background-color: #ff4d4d;
      width: 0%;
      transition: width 0.3s ease;
      border-radius: 10px; /* Rounded corners */
    }

    /* Hide audio elements visually */
    audio {
        display: none;
    }

    /* Add some padding to the bottom of the body to prevent content being hidden behind the footer area if you add one later */
    body {
        padding-bottom: 20px;
    }
  </style>
</head>
<body>

  <!-- ðŸ”¥ Fixed Progress Bar -->
  <div id="progressBar">
    <div class="progress-text">
      ðŸ”¥ Grade: <span id="gradeDisplay">0.00 / 50.00</span>
    </div>
    <div class="progress-bar-container">
        <div class="progress-bar-fill" id="progressBarFill"></div>
    </div>
  </div>

  <!-- Your Checklist -->
  <h1 id="mainHeading">24ESP204 Problem Solving and Programming</h1>

  <h2>MODULE III : Strings</h2>
  <ul>
    <li class="topic-heading"><input type="checkbox" class="topic-heading-check"><label>String processing</label></li>
      <li class="indented topic-heading"><input type="checkbox" class="topic-heading-check"><label>Inbuilt String handling functions</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>strlen (String Length)</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>strcpy (String Copy)</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>strcat (String Concatenation)</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>strcmp (String Comparison)</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>puts, gets functions</label></li>
    <li class="topic-heading"><input type="checkbox" class="topic-check"><label>Simple programs covering strings</label></li>
  </ul>

  <h2>MODULE IV : Working with functions</h2>
  <ul>
    <li class="topic-heading"><input type="checkbox" class="topic-heading-check"><label>Modular Programming & Basic Function Concepts</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Introduction to modular programming</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Writing functions: Declaration, Definition, Calling</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Formal parameters vs. Actual parameters</label></li>

    <li class="topic-heading"><input type="checkbox" class="topic-heading-check"><label>Parameter Passing Techniques</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Pass by Value: Concept & Effect (no change to original variables)</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Pass by Value: Example (e.g., `void modify(int x)`) </label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Pass by Reference (using pointers): Concept & Effect (changes original variable)</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Pass by Reference: Example (e.g., `void modify(int *x)`) </label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Example: Swapping two numbers using Pass by Reference</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Why use Pass by Reference: Modifying originals, Simulating return of multiple values, Memory efficiency with large data</label></li>

    <li class="topic-heading"><input type="checkbox" class="topic-heading-check"><label>Arrays as Function Parameters</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Concept: Arrays always passed by reference (address of first element)</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Syntax for functions taking arrays: `void func(int arr[], int size)` OR `void func(int *arr, int size)`</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Example: Printing array elements using a function</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Example: Modifying array elements inside a function</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Example: Sum of array elements using a function</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Key Points: Implicit by-reference nature, Importance of size parameter, Ability to modify original array</label></li>

    <li class="topic-heading"><input type="checkbox" class="topic-heading-check"><label>User-defined Data Types: Structures</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Definition and Purpose: Grouping different data types</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Syntax: Declaring a structure (`struct TagName { members; };`)</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Creating structure variables (e.g., `struct TagName varName;`)</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Accessing structure members (dot operator `.`)</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Example: Structure initialized directly in code</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Example: Structure members initialized using `scanf`</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Example: Array of structures</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Practice: Problems involving structures (e.g., Book, Employee, Date examples)</label></li>

    <li class="topic-heading"><input type="checkbox" class="topic-heading-check"><label>User-defined Data Types: Unions</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Definition and Purpose: Shared memory location for members</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Syntax: Declaring a union (`union TagName { members; };`)</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Accessing union members & understanding data overwriting</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Structure vs. Union: Key Differences (Memory allocation, Member access, Usage scenarios)</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>When are Unions Beneficial? (Memory saving, when only one member is active at a time)</label></li>

    <li class="topic-heading"><input type="checkbox" class="topic-heading-check"><label>Recursion</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Concept of Recursion: Function calling itself</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Essential components: Base case and Recursive step</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Simple programs using recursion (e.g., factorial, Fibonacci sequence - understand logic)</label></li>

    <li class="topic-heading"><input type="checkbox" class="topic-heading-check"><label>Storage Classes, Scope, and Lifetime of Variables</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Introduction: How storage classes define scope, lifetime, visibility, and initial value</label></li>
      <li class="topic-heading indented"><input type="checkbox" class="topic-heading-check"><label>Automatic (auto)</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>Scope: Local (block/function)</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>Lifetime: Exists only while block/function is active</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>Default storage class for local variables, initial value is garbage</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>Example and Explanation</label></li>
      <li class="topic-heading indented"><input type="checkbox" class="topic-heading-check"><label>External (extern)</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>Scope: Global (available across multiple files if declared)</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>Lifetime: Exists throughout program execution, initial value 0</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>Usage: Declaring global variables defined elsewhere (or later in file)</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>Example and Explanation</label></li>
      <li class="topic-heading indented"><input type="checkbox" class="topic-heading-check"><label>Static (static)</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>Static Local Variable: Scope (local to block/function), Lifetime (retains value between calls), initial value 0</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>Static Local Variable: Example (e.g., counter function)</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>Static Global Variable: Scope (limited to the file where defined), Lifetime (program), initial value 0</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>Static Global Variable: Example and Explanation</label></li>
      <li class="topic-heading indented"><input type="checkbox" class="topic-heading-check"><label>Register (register)</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>Scope: Local (block/function)</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>Lifetime: Exists only while block/function is active, initial value garbage</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>Hint to compiler to store in CPU register for faster access (not guaranteed)</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>Cannot use address-of operator (`&`) on register variables</label></li>
        <li class="sub-indented"><input type="checkbox" class="topic-check"><label>Example and Explanation</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Summary Table: Key differences (Scope, Lifetime, Initial Value, Storage)</label></li>
    <li class="topic-heading"><input type="checkbox" class="topic-check"><label>Simple programs using various function concepts</label></li>
  </ul>

  <h2>MODULE V : Pointers</h2>
  <ul>
    <li class="topic-heading"><input type="checkbox" class="topic-heading-check"><label>Fundamentals of Pointers</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>What is a Pointer? (Variable that stores the memory address of another variable)</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Declaring a Pointer (e.g., `int *ptr; char *cptr;`)</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Address-of Operator (`&`): Getting the memory address of a variable</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Dereferencing Operator (`*`): Accessing the value at the address stored in a pointer (Indirection)</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Initializing a Pointer (e.g., `ptr = &variable;`)</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>NULL Pointer: Concept, definition (`NULL` or `(void*)0`), and importance</label></li>

    <li class="topic-heading"><input type="checkbox" class="topic-heading-check"><label>Pointer Operations and Examples</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Example 1: Basic Pointer Assignment and Dereferencing (int)</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Example 2: Pointer to a Character</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Example 3: Modifying a variable's value using its pointer</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Example 4: Sum of two numbers using pointers</label></li>

    <li class="topic-heading"><input type="checkbox" class="topic-heading-check"><label>Pointers and Arrays</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Concept: Array name acts as a constant pointer to its first element</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Pointer Arithmetic: Incrementing/decrementing pointers, adding/subtracting integers (scales by data type size)</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Accessing array elements using pointer notation (e.g., `*(arr + i)`, `*(ptr + i)`) vs. array notation (`arr[i]`, `ptr[i]`) </label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Example 5: Pointers and Arrays - Accessing elements</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Example 6: Pointer and Array Equivalence demonstration</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Traversing an array using a pointer</label></li>

    <li class="topic-heading"><input type="checkbox" class="topic-heading-check"><label>Pointers in Function Arguments (Pass by Reference)</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Revisiting Pass by Reference: How pointers enable functions to modify original argument values</label></li>
      <li class="indented"><input type="checkbox" class="topic-check"><label>Example: Function that swaps two integers using pointers</label></li>

    <li class="topic-heading"><input type="checkbox" class="topic-check"><label>Simple programs covering various pointer concepts and applications</label></li>
  </ul>

  <!-- Audio Elements (hidden) -->
  <audio id="goggins_audio1" src="goggins_stayhard1.mp3" preload="auto"></audio>
  <audio id="goggins_audio2" src="goggins_10percent.mp3" preload="auto"></audio>
  <audio id="goggins_audio3" src="goggins_inyourself.mp3" preload="auto"></audio>
  <audio id="goggins_audio4" src="goggins_dontcare.mp3" preload="auto"></audio>
  <audio id="goggins_audio5" src="goggins_nomotherfucker.mp3" preload="auto"></audio>
  <audio id="goggins_audio6" src="goggins_usefuel.mp3" preload="auto"></audio>


  <script>
    // Select ALL checkboxes to attach event listeners to
    const allCheckboxes = document.querySelectorAll('input[type="checkbox"]');

    const progressBar = document.getElementById('progressBar'); // Get the progress bar element
    const progressBarFill = document.getElementById('progressBarFill');
    const gradeDisplay = document.getElementById('gradeDisplay');
    const mainHeading = document.getElementById('mainHeading'); // Get the main heading element

    // Define the target total grade value
    const targetTotalGrade = 50;

    // Array of audio element IDs to rotate through
    const audioElementIds = [
        'goggins_audio1',
        'goggins_audio2',
        'goggins_audio3',
        'goggins_audio4',
        'goggins_audio5',
        'goggins_audio6'
    ];

    let lastPlayedIndex = -1; // To avoid playing the exact same clip consecutively if possible

    // Function to determine if a checkbox should contribute to the grade score
    function shouldCountForGrade(checkbox) {
        const parentLi = checkbox.closest('li');
        if (!parentLi) return false;

        // Count any item with the 'topic-check' class
        if (checkbox.classList.contains('topic-check')) {
            return true;
        }

        // Do NOT count parent topic-heading-check items themselves if they have any indented children.
        // The child items with 'topic-check' will be counted.
        // This prevents double-counting.
        // A standalone topic-heading-check item (with no indented items following) IS counted.
        if (parentLi.classList.contains('topic-heading') && checkbox.classList.contains('topic-heading-check')) {
             let hasIndentedSibling = false;
             let nextSibling = parentLi.nextElementSibling;
             while (nextSibling) {
                 // Check for any indented sibling (either level) before another main topic heading
                 if (nextSibling.classList.contains('indented') || nextSibling.classList.contains('sub-indented')) {
                     hasIndentedSibling = true;
                     break;
                 }
                 // Stop checking if we hit another main topic heading (not an indented one)
                 if (nextSibling.classList.contains('topic-heading') && !nextSibling.classList.contains('indented') && !nextSibling.classList.contains('sub-indented')) {
                      break;
                  }
                 nextSibling = nextSibling.nextElementSibling;
             }
             // If the topic-heading does NOT have any indented siblings, it counts.
             return !hasIndentedSibling;
        }

        return false; // Default: not counted
    }


    // Function to update progress and play audio
    function updateProgressAndPlayAudio(event) {
      let checkedCountableItems = 0;
      let totalCountableItems = 0;

      allCheckboxes.forEach(cb => {
        if (shouldCountForGrade(cb)) {
            totalCountableItems++;
            if (cb.checked) {
                checkedCountableItems++;
            }
        }
      });

      const itemValue = totalCountableItems === 0 ? 0 : targetTotalGrade / totalCountableItems;
      const currentGrade = checkedCountableItems * itemValue;

      gradeDisplay.textContent = `${currentGrade.toFixed(2)} / ${targetTotalGrade.toFixed(2)}`;

      const percent = totalCountableItems === 0 ? 0 : (checkedCountableItems / totalCountableItems) * 100;
      progressBarFill.style.width = percent + '%';

      if (event.target && event.target.checked && shouldCountForGrade(event.target)) {
        playRandomGogginsClip();
      }
    }

    function playRandomGogginsClip() {
        let randomIndex;
        do {
            randomIndex = Math.floor(Math.random() * audioElementIds.length);
        } while (randomIndex === lastPlayedIndex && audioElementIds.length > 1);

        const audioIdToPlay = audioElementIds[randomIndex];
        const audioElement = document.getElementById(audioIdToPlay);

        if (audioElement) {
            audioElementIds.forEach(id => {
                const audio = document.getElementById(id);
                if (audio && !audio.paused) {
                    audio.pause();
                    audio.currentTime = 0;
                }
            });
            audioElement.currentTime = 0;
            audioElement.play().catch(e => console.error("Audio playback error:", e));
            lastPlayedIndex = randomIndex;
        }
    }

    function setMainHeadingMargin() {
        const progressBarHeight = progressBar.offsetHeight;
        mainHeading.style.marginTop = `${progressBarHeight + 20}px`;
    }

    allCheckboxes.forEach(cb => {
        cb.addEventListener('change', updateProgressAndPlayAudio);
    });

    setMainHeadingMargin();
    window.addEventListener('resize', setMainHeadingMargin);
    updateProgressAndPlayAudio({ target: { checked: false } });

  </script>
</body>
</html>
